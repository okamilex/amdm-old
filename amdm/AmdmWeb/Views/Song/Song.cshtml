@model AmdmWeb.Models.Song.SongPageModel
@{
    ViewBag.Title = "Song";
}
<script>
    window.onload = Run;
    function Run() {
        debugger;
        var url = window.location.href;
        var ajaxURL = '@Url.Action("GetSong","Song")';
        var splitedURL = url.split("=");
        if (splitedURL.length > 2) {
            var id = splitedURL[1].split("&")[0];
            var sortType = splitedURL[2].split("&")[0];
            if (splitedURL.length > 3) {
                var number = splitedURL[3];
            }
            else {
                var number = "1";
            }
        }
        else {
            var id = splitedURL[1];
            var sortType = "ByName";
            var number = "1";
        }

        history.replaceState(null, null, 'Song?performerId=' + id + '&amp;s=' + sortType + '&amp;songNumber=' + number);

        $.ajax({
            type: "Get",
            url: ajaxURL,
            data: { performerId: id, s: sortType, songNumber: number },
            dataType: 'html',
            success: function (data) {
                debugger;
                $('#song').html(data);
            },
            replace: song

        });
    }

</script>

<div id="song"></div>

